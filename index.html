<!DOCTYPE html>
<html lang="en" >
<head>
<meta charset="UTF-8">
<title>5⃟ ¢ ⊘ █▓▒░</title>
<link rel="stylesheet" href="./style.css">
</head>
<body>
<div id="shader"></div>
	
	
<script id="vertex" type="x-shader/x-vertex">
  varying vec2 vUv;
	void main() { gl_Position = vec4(position, 1.0);
               vUv = uv;
              }
</script>
<script id="fragment" type="x-shader/x-fragment">
precision highp float;
uniform vec2 u_resolution;
uniform float u_time;
  varying vec2 vUv;
const float PI = 3.1415926535897932384626433832795;
const float TAU = PI * 2.;
 float spiralSDF(vec2 st, float t){
  st -= .5;
  float r = dot(st, st);
  float a = atan(st.y, st.x);
  return abs(sin(fract(log(r)*t+a*0.159)));
}
void coswarp(inout vec3 trip, float warpsScale ){
  trip.xyz += warpsScale * .1 * cos(3. * trip.yzx + (u_time * .25));
  trip.xyz += warpsScale * .05 * cos(11. * trip.yzx + (u_time * .25));
  trip.xyz += warpsScale * .025 * cos(17. * trip.yzx + (u_time * .25));
}
  float stroke(float x, float s, float w){
  float d = step(s, x+ w * .5) - step(s, x - w * .5);
  return clamp(d, 0., 1.);
}
vec2 rotate2D (vec2 _st, float _angle) {
    _st -= 0.5;
    _st =  mat2(cos(_angle),-sin(_angle),
                sin(_angle),cos(_angle)) * _st;
    _st += 0.5;
    return _st;
}
vec2 rotateTilePattern(vec2 _st){
    _st *= 2.0;
    float index = 0.0;
    index += step(1., mod(_st.x,2.0));
    index += step(1., mod(_st.y,2.0))*2.0;
    _st = fract(_st);
    if(index == 1.0){
        _st = rotate2D(_st,PI*0.5 *_st.x );
    } else if(index == 2.0){
        _st = rotate2D(_st,PI*-0.5);
    } else if(index == 3.0){
        _st = rotate2D(_st,PI * _st.y );
    }
    return _st;
}
vec2 rotateUV(vec2 uv, vec2 pivot, float rotation) {
  mat2 rotation_matrix=mat2(  vec2(sin(rotation),-cos(rotation)),
                              vec2(cos(rotation),sin(rotation))
                              );
  uv -= pivot;
  uv= uv*rotation_matrix;
  uv += pivot;
  return uv;
}
void main() {
	vec2 uv = (gl_FragCoord.xy - u_resolution * .5) / u_resolution.yy + 0.5;
 float u = u_time +length(fract(uv * 10. * (uv.x + uv.y))) ;
float u2 = u+(uv.x +uv.y);
 vec2 st = rotateUV(uv, vec2(.5), PI * u * .1);
  vec2 uv2 = rotateUV(uv, vec2(.5), PI * u * .01);;
   vec2 uv3 = rotateUV(uv, vec2(.5), -PI * u * .01);;
  uv = rotateTilePattern(uv2 * 1.);
   uv3 = rotateTilePattern(fract(uv3 * 10. ) );
	vec3 color = vec3(uv.x, uv.y, 1.);
  coswarp(color, 3.);
   color *= sin(u -(st.x * 50.)) + sin(u -(st.y * 50.));
   color = mix(color, 1.-color, step(spiralSDF(uv2, sin(u *.41)),  step(spiralSDF(uv2, cos(u2 *.41)),  .5)));
    gl_FragColor = vec4(vec3(color.r, color.g, color.b), 1.0);
}
</script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js'></script><script  src="./script.js"></script>
</body>
</html>
